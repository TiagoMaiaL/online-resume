<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="single-project">
  <style>
    .project {
      overflow: hidden;
      font-size: 0.9em;
      text-align: center;
      position: relative;
    }

    .image-cover {
      min-width: 100%;
      min-height: 100%;
      display: block;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 0;
    }

    .meta-info {
      position: relative;
      z-index: 1;
      padding: 1em;
      margin-bottom: -2em;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease-in-out;
    }

    .sources {
      margin: 0 auto;
      text-align: center;
      display: inline-block;
      font-size: 1.5em;
    }

    .sources .link {
      float: left;
      margin-right: 0;
    }

    .link a {
     padding: 0.5em;
    }

    .dark-overlay {
      opacity: 0;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #222;
      transition: all 0.2s ease-in-out;
    }

    .project.active .meta-info {
      display: block;
      opacity: 1;
      margin-bottom: 0;
      visibility: visible;
    }

    .project.active .dark-overlay {
      opacity: .8;
    }
  </style>

  <template>
    <article class="project height-lg-half center-parent-vertical">
      <!-- TODO: Add description for each project. -->

      <picture>
        <!-- TODO: Make a component for the picture element -->
        <source media="(min-width: 1000px)" srcset="build/resources/images/project-4-large.jpg 1x, build/resources/images/project-4-large-2x.jpg 2x">
        <source media="(min-width: 451px)" srcset="build/resources/images/project-4-medium.jpg 1x, build/resources/images/project-4-medium-2x.jpg 2x">
        <source media="(max-width: 450px)" srcset="build/resources/images/project-4-small.jpg 1x, build/resources/images/project-4-small-2x.jpg 2x">
        <img class="image-cover" src="build/resources/images/project-4-small.jpg" alt="">
      </picture>

      <div class="dark-overlay"></div>

      <div class="meta-info">
        <h4>[[projectData.title]]</h4>
        <ul class="sources clearfix">
          <li class="link"><a href="[[projectData.links.github]]" title="Source code"><i class="icon icon-github-circled"></i></a></li>
          <li class="link"><a href="[[projectData.links.demo]]" title="Live demo"><i class="icon icon-website"></i></a></li>
          <li class="link"><a href="[[projectData.links.codepen]]" title="CodePen demo"><i class="icon icon-codepen"></i></a></li>
        </ul>
      </div>
    </article>
  </template>
</dom-module>

<script>
  Polymer({
    is: "single-project",
    properties: {
      projectData: Object
    },
    ready: function() {
      // TODO: generate the source link
      // for each picture resolution.
    }
  });
</script>
